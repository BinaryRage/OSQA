var providers_large={google:{name:"Google",url:"https://www.google.com/accounts/o8/id"},yahoo:{name:"Yahoo",url:"http://yahoo.com/"},aol:{name:"AOL",label:"Enter your AOL screenname.",url:"http://openid.aol.com/{username}"},openid:{name:"OpenID",label:"Enter your OpenID.",url:"http://"}};var providers_small={myopenid:{name:"MyOpenID",label:"Enter your MyOpenID username.",url:"http://{username}.myopenid.com/"},livejournal:{name:"LiveJournal",label:"Enter your Livejournal username.",url:"http://{username}.livejournal.com/"},flickr:{name:"Flickr",label:"Enter your Flickr username.",url:"http://flickr.com/{username}/"},technorati:{name:"Technorati",label:"Enter your Technorati username.",url:"http://technorati.com/people/technorati/{username}/"},wordpress:{name:"Wordpress",label:"Enter your Wordpress.com username.",url:"http://{username}.wordpress.com/"},blogger:{name:"Blogger",label:"Your Blogger account",url:"http://{username}.blogspot.com/"},verisign:{name:"Verisign",label:"Your Verisign username",url:"http://{username}.pip.verisignlabs.com/"},verisign:{name:"Verisign",label:"Your Verisign username",url:"http://{username}.pip.verisignlabs.com/"},claimid:{name:"ClaimID",label:"Your ClaimID username",url:"http://claimid.com/{username}"}};var providers=$.extend({},providers_large,providers_small);var openid={cookie_expires:6*30,cookie_name:"openid_provider",cookie_path:"/",img_path:"/media/images/openid/",input_id:null,provider_url:null,init:function(b){var a=$("#openid_btns");this.input_id=b;$("#openid_choice").show();for(id in providers_large){a.append(this.getBoxHTML(providers_large[id],"large",".gif"))}if(providers_small){a.append("<br/>");for(id in providers_small){a.append(this.getBoxHTML(providers_small[id],"small",".png"))}}var c=this.readCookie();if(c){this.signin(c,true)}},getBoxHTML:function(d,c,a){var b=d.name.toLowerCase();return'<a title="'+d.name+'" href="javascript: openid.signin(\''+b+'\');" style="background: #FFF url('+this.img_path+b+a+') no-repeat center center" class="'+b+" openid_"+c+'_btn"></a>'},signin:function(i,c){var e=providers[i];if(!e){return}this.highlight(i);this.setCookie(i);$("#"+this.input_id).val(e.url);var f=$("#"+this.input_id);if(document.selection){var a=document.all.openid_url.createTextRange();var d=a.findText("{username}");if(d){a.select()}}else{var g=f.val();var h="{username}";var b=g.indexOf(h);if(b>-1){f.focus();document.getElementById(this.input_id).setSelectionRange(b,b+h.length)}}},highlight:function(b){var a=$("#openid_highlight");if(a){a.replaceWith($("#openid_highlight a")[0])}$("."+b).wrap('<div id="openid_highlight"></div>')},setCookie:function(c){var b=new Date();b.setTime(b.getTime()+(this.cookie_expires*24*60*60*1000));var a="; expires="+b.toGMTString();document.cookie=this.cookie_name+"="+c+a+"; path="+this.cookie_path},readCookie:function(){var d=this.cookie_name+"=";var a=document.cookie.split(";");for(var b=0;b<a.length;b++){var e=a[b];while(e.charAt(0)==" "){e=e.substring(1,e.length)}if(e.indexOf(d)==0){return e.substring(d.length,e.length)}}return null}};