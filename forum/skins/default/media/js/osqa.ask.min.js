var currentSideBar="div#title_side_bar";function changeSideBar(a){if(a!=currentSideBar){$(currentSideBar).hide();currentSideBar=a;$(currentSideBar).fadeIn("slow")}}$(function(){$("div#editor_side_bar").hide();$("div#tags_side_bar").hide();$("#id_title").focus(function(){changeSideBar("div#title_side_bar")});$("#editor").focus(function(){changeSideBar("div#editor_side_bar")});$("#id_tags").focus(function(){changeSideBar("div#tags_side_bar")})});$(function(){var h=$("#id_title");var g=$("#ask-related-questions");var a=$("#question-summary-template").html();var f=$("#editor");var c={};function d(k){var i=$("#ask-related-questions");var j=h.val().replace(/^\s+|\s+$/g,"");if(j.length==0){e();i.html("");return false}else{if(i[0].style.height==0||i[0].style.height=="0px"){i.animate({height:"150"},350)}}if(c[j]&&c[j]!=""){i.html(c[j]);return false}$.post(related_questions_url,{title:j},function(o){if(o){var p=h.val().replace(/^\s+|\s+$/g,"");if(p!=j){return}if(o.length==0){i.html('<br /><br /><div align="center">No questions like this have been found.</div>');return}var m="";for(var l=0;l<o.length;l++){var n=a.replace(new RegExp("%URL%","g"),o[l].url).replace(new RegExp("%SCORE%","g"),o[l].score).replace(new RegExp("%TITLE%","g"),o[l].title).replace(new RegExp("%SUMMARY%","g"),o[l].summary);m+=n}c[j]=m;i.html(m)}},"json");return false}function e(){$("#ask-related-questions").animate({height:"0"},350,function(){$("#ask-related-questions").html("")})}h.keyup(d);h.focus(d);f.change(function(){if(f.html().length>10){e()}});h.keydown(b);function b(i){var j=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;if(i.keyCode==9&&j){$("#editor")[0].focus()}}});